{"version":3,"file":"notification.min.js","sources":["../src/notification.js"],"sourcesContent":["define('pulseaction_notification/notification', ['jquery', 'core/fragment'], function($, Fragment) {\r\n\r\n    var contextID;\r\n\r\n    const SELECTORS = {\r\n        chaperType : \"#id_pulsenotification_contenttype\",\r\n        mod: \"#id_pulsenotification_dynamiccontent\"\r\n    };\r\n\r\n    const addChapterEventListners = (contextid) => {\r\n\r\n        contextID = contextid\r\n\r\n        document.querySelector(SELECTORS.chaperType).addEventListener(\"change\", (e) => updateChapter());\r\n        document.querySelector(SELECTORS.mod).addEventListener(\"change\", (e) => updateChapter());\r\n    }\r\n\r\n    const updateChapter = (method) => {\r\n        var type = document.querySelector(\"#id_pulsenotification_contenttype\").value;\r\n        var mod = document.querySelector(\"#id_pulsenotification_dynamiccontent\");\r\n        var chapter = document.querySelector(\"#id_pulsenotification_chapter\");\r\n\r\n        if (parseInt(type) != 2) {\r\n            return true;\r\n        }\r\n\r\n        var params = {mod: mod.value};\r\n\r\n        // TODO: Loading icon near.\r\n        Fragment.loadFragment('pulseaction_notification', 'update_chapters', contextID, params).then((html, js) => {\r\n            chapter.innerHTML = html;\r\n        }).catch();\r\n    }\r\n\r\n\r\n    return {\r\n\r\n        init: function() {\r\n\r\n        },\r\n\r\n        updateChapter: function(contextid) {\r\n            addChapterEventListners(contextid);\r\n        }\r\n    }\r\n})\r\n"],"names":["define","$","Fragment","contextID","SELECTORS","updateChapter","method","type","document","querySelector","value","mod","chapter","parseInt","params","loadFragment","then","html","js","innerHTML","catch","init","contextid","addEventListener","e","addChapterEventListners"],"mappings":"AAAAA,+CAAgD,CAAC,SAAU,kBAAkB,SAASC,EAAGC,cAEjFC,gBAEEC,qBACW,oCADXA,cAEG,uCAWHC,cAAiBC,aACfC,KAAOC,SAASC,cAAc,qCAAqCC,MACnEC,IAAMH,SAASC,cAAc,wCAC7BG,QAAUJ,SAASC,cAAc,oCAEf,GAAlBI,SAASN,aACF,MAGPO,OAAS,CAACH,IAAKA,IAAID,OAGvBR,SAASa,aAAa,2BAA4B,kBAAmBZ,UAAWW,QAAQE,MAAK,CAACC,KAAMC,MAChGN,QAAQO,UAAYF,QACrBG,eAIA,CAEHC,KAAM,aAINhB,cAAe,SAASiB,WAhCKA,CAAAA,YAE7BnB,UAAYmB,UAEZd,SAASC,cAAcL,sBAAsBmB,iBAAiB,UAAWC,GAAMnB,kBAC/EG,SAASC,cAAcL,eAAemB,iBAAiB,UAAWC,GAAMnB,mBA4BpEoB,CAAwBH"}